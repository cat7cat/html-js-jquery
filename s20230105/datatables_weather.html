<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.1/css/jquery.dataTables.css">
    <style>
        table .display{
            width: 90%;
        }

        thead {
            background-color: rgb(174, 205, 223);
        }
    
        tfoot {
            background-color: rgb(174, 205, 223);
    
        }
    </style>
</head>
<body>
    <!-- ajax get data datatable getJson -->
    <!-- datatable 適合用在資料不多的情況 -->
    <!-- 如果資料多筆 建議自己寫 select db / pagination分頁-->
    <!-- SELECT * FROM table 實際工作少用 當資料多幾萬筆 幾十萬筆時 會很慢 會當掉 -->


<H1>天氣預報</H1>
<ul>
    <li>註冊</li>
    <li>取得授權碼</li>
    <li>HTML 貼上API 授權碼 註解起來</li>
</ul>

<!-- 授權碼 CWB-6E967F8B-02B9-471C-9452-B188ABC5C5DA -->

<table id="example" class="display">
    <thead>
        <tr>
            <th>no.</th>
            <th>地區</th>
            <th>天氣</th>

        </tr>
    </thead>
    <tbody>
        <!-- <tr>
            <td>Tiger Nixon</td>
            <td>System Architect</td>
            <td>Edinburgh</td>
            <td>61</td>
            <td>2011-04-25</td>
            <td>$320,800</td>
        </tr> -->
    </tbody>
    <tfoot>
        <tr>
            <th>no.</th>
            <th>地區</th>
            <th>天氣</th>

        </tr>
    </tfoot>
</table>




<!-- JQ外掛連結 -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.2/jquery.min.js"></script>

<!-- JS外掛連結 -->
    <script type="text/javascript" charset="utf8"
        src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.js"></script>
    <script>
        

            $(function () {

            // const myBtn = $('#myBtn');
            // const tbody = $('tbody');
            // tel
            // features
            // title
            // address

            // let textContent = '';

            $.getJSON("./js/weather.json",
            function (res, textStatus, jqXHR) {
                console.log('res', res);
            let textContent = "";
            $.each(res, function (key, value) {
                textContent += `
                        <tr>
                            <td>${key + 1}</td>
                            <td>${value.tel}</td>
                            <td>${value.features}</td>
                            <td>${value.title}</td>
                            <td>${value.address}</td>
                        </tr>
                        `;
                    });
            tbody.append(textContent);
            $('#example').DataTable();



                }
            );
        });

    </script>

</body>
</html>